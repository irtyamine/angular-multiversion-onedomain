version: "3.3"
services:
  angularjs_app:
    build:
      context: ./angularjs-demo
      dockerfile: Dockerfile.prod
    ports:
      - 81:80

  angular6_app:
    build:
      context: ./angular6-demo
      dockerfile: Dockerfile.prod
    ports:
      - 82:80

  nginx_proxy:
    image: nginx
    ports:
      - 80:80
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
    links:
      - angular6_app
      - angularjs_app
